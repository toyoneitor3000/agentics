<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PURPUR Mission Control</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-dark: #0f172a;
            --bg-panel: #1e293b;
            --bg-header: #334155;
            --primary: #8b5cf6;
            --success: #10b981;
            --text-main: #f8fafc;
            --text-dim: #94a3b8;
            --border: #475569;
            --console-bg: #000000;
            --console-text: #00ff41;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background: var(--bg-dark); color: var(--text-main); height: 100vh; overflow: hidden; }
        .mission-control { display: grid; grid-template-columns: 280px 1fr 360px; height: 100vh; }
        .left-panel { background: var(--bg-panel); border-right: 1px solid var(--border); display: flex; flex-direction: column; overflow: hidden; }
        .brand-header { padding: 16px 20px; background: linear-gradient(135deg, var(--primary), #7c3aed); display: flex; align-items: center; gap: 12px; }
        .brand-header h1 { font-size: 18px; }
        .section-header { padding: 12px 16px; font-size: 11px; color: var(--text-dim); text-transform: uppercase; background: var(--bg-header); }
        .project-manager, .agent-list, .config-panel { padding: 12px; }
        .agent-list { flex: 1; overflow-y: auto; }
        .node-selector { padding: 10px 12px; margin-bottom: 4px; border-radius: 6px; cursor: pointer; display: flex; align-items: center; gap: 10px; transition: 0.2s; }
        .node-selector:hover { background: rgba(139, 92, 246, 0.15); }
        .node-selector.active { background: rgba(139, 92, 246, 0.25); color: var(--primary); }
        .center-panel { display: flex; flex-direction: column; background: var(--bg-dark); }
        .agent-tree-hud { padding: 16px 24px; background: rgba(30, 41, 59, 0.6); backdrop-filter: blur(20px); display: flex; justify-content: space-between; align-items: center; }
        .tree-flow { display: flex; gap: 16px; align-items: center; }
        .tree-node { padding: 8px 16px; background: var(--bg-panel); border: 2px solid var(--primary); border-radius: 8px; font-size: 12px; }
        .tree-node.meta { background: linear-gradient(135deg, var(--primary), #7c3aed); color: white; }
        .chat-container { flex: 1; display: flex; flex-direction: column; padding: 24px; }
        .chat-messages { flex: 1; overflow-y: auto; padding: 20px; background: rgba(30, 41, 59, 0.6); border-radius: 12px; margin-bottom: 16px; }
        .message { margin-bottom: 16px; padding: 12px 16px; border-radius: 10px; max-width: 70%; }
        .message.user { background: linear-gradient(135deg, #3b82f6, #2563eb); margin-left: auto; color: white; }
        .message.agent { background: linear-gradient(135deg, var(--success), #059669); color: white; }
        .input-area { display: flex; gap: 12px; }
        #input-mensaje { flex: 1; padding: 14px 18px; background: rgba(30, 41, 59, 0.6); border: 2px solid rgba(139, 92, 246, 0.2); border-radius: 10px; color: var(--text-main); font-size: 14px; }
        .btn-send { padding: 14px 24px; background: linear-gradient(135deg, var(--primary), #7c3aed); color: white; border: none; border-radius: 10px; font-weight: 600; cursor: pointer; }
        .right-panel { background: var(--bg-panel); border-left: 1px solid var(--border); display: flex; flex-direction: column; }
        .stats-widget { padding: 16px; background: rgba(30, 41, 59, 0.6); }
        .stats-cost { font-family: 'JetBrains Mono', monospace; font-size: 28px; color: var(--success); }
        .file-explorer { flex: 1; overflow-y: auto; padding: 12px; }
        .tool-console { height: 200px; background: var(--console-bg); padding: 12px; overflow-y: auto; font-family: 'JetBrains Mono', monospace; font-size: 12px; }
        .console-line { color: var(--console-text); margin-bottom: 4px; }
    </style>
</head>
<body>
    <div class="mission-control">
        <div class="left-panel">
            <div class="brand-header">
                <i class="fas fa-robot"></i>
                <h1>MISSION CONTROL</h1>
            </div>
            <div class="section-header">Nodos Agentes</div>
            <div class="agent-list">
                <div class="node-selector active" data-node="agent1" onclick="seleccionarNodo(this)">
                    <i class="fas fa-brain"></i>
                    <span>Agente 1 - Analizador</span>
                </div>
                <div class="node-selector" data-node="agent2" onclick="seleccionarNodo(this)">
                    <i class="fas fa-palette"></i>
                    <span>Agente 2 - Creador</span>
                </div>
            </div>
        </div>

        <div class="center-panel">
            <div class="agent-tree-hud">
                <div class="tree-flow">
                    <div class="tree-node meta"><i class="fas fa-crown"></i> Meta-Agent</div>
                    <i class="fas fa-arrow-right"></i>
                    <div class="tree-node"><i class="fas fa-cog"></i> <span id="worker-name">Analizador</span></div>
                </div>
                <div>Conectado</div>
            </div>
            <div class="chat-container">
                <div class="chat-messages" id="mensajes-chat">
                    <div class="message agent">
                        <div>ü§ñ ¬°Bienvenido a PURPUR Mission Control!</div>
                    </div>
                </div>
                <div class="input-area">
                    <input type="text" id="input-mensaje" placeholder="Escribe tu mensaje...">
                    <button class="btn-send" onclick="enviarMensaje()">
                        <i class="fas fa-paper-plane"></i> Enviar
                    </button>
                </div>
            </div>
        </div>

        <div class="right-panel">
            <div class="stats-widget">
                <div>üí∞ COSTO ACTUAL</div>
                <div class="stats-cost">$<span id="costo-total">0.00</span></div>
            </div>
            <div class="section-header">File Explorer</div>
            <div class="file-explorer">
                <div>üìÅ proyecto-demo/</div>
                <div style="padding-left: 16px;">üìÑ index.html</div>
            </div>
            <div class="section-header">Tool Console</div>
            <div class="tool-console" id="tool-console">
                <div class="console-line">> Mission Control initialized</div>
                <div class="console-line">> Ready for commands</div>
            </div>
        </div>
    </div>

    <script>
        let costoTotal = 0;

        function seleccionarNodo(elemento) {
            document.querySelectorAll('.node-selector').forEach(n => n.classList.remove('active'));
            elemento.classList.add('active');
            const nombreNodo = elemento.querySelector('span').textContent;
            document.getElementById('worker-name').textContent = nombreNodo.split(' - ')[1];
            logToConsole('> Nodo seleccionado: ' + nombreNodo);
        }

        function enviarMensaje() {
            const input = document.getElementById('input-mensaje');
            const mensaje = input.value.trim();
            if (!mensaje) return;

            agregarMensajeAlChat('user', mensaje);
            input.value = '';
            setTimeout(() => agregarMensajeAlChat('agent', 'ü§ñ Proces√© tu mensaje: "' + mensaje + '"'), 800);
        }

        function agregarMensajeAlChat(tipo, texto) {
            const mensajesDiv = document.getElementById('mensajes-chat');
            const mensajeDiv = document.createElement('div');
            mensajeDiv.className = 'message ' + tipo;
            mensajeDiv.innerHTML = '<div>' + texto + '</div>';
            mensajesDiv.appendChild(mensajeDiv);
            mensajesDiv.scrollTop = mensajesDiv.scrollHeight;
        }

        function logToConsole(mensaje) {
            const consoleDiv = document.getElementById('tool-console');
            const line = document.createElement('div');
            line.className = 'console-line';
            line.textContent = mensaje;
            consoleDiv.appendChild(line);
            consoleDiv.scrollTop = consoleDiv.scrollHeight;
        }

        document.getElementById('input-mensaje').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') enviarMensaje();
        });
    </script>
</body>
</html>
